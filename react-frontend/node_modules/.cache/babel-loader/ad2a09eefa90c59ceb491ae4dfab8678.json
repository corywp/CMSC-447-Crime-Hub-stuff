{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\tjdin\\\\CMSC-447-Crime-Hub-stuff\\\\react-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tjdin\\\\CMSC-447-Crime-Hub-stuff\\\\react-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\tjdin\\\\CMSC-447-Crime-Hub-stuff\\\\react-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\tjdin\\\\CMSC-447-Crime-Hub-stuff\\\\react-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\tjdin\\\\CMSC-447-Crime-Hub-stuff\\\\react-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import logo from\"./logo.svg\";import'./App.css';var origin=window.location.origin;var url=origin+'/api/crimes';var GetCrimes=/*#__PURE__*/function(_React$Component){_inherits(GetCrimes,_React$Component);function GetCrimes(props){var _this;_classCallCheck(this,GetCrimes);_this=_possibleConstructorReturn(this,_getPrototypeOf(GetCrimes).call(this,props));_this.state={error:null,isLoaded:false,data:[]};return _this;}_createClass(GetCrimes,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://52.206.59.30:3000/api/crimes\").then(function(res){return res.json();}).then(function(result){_this2.setState({isLoaded:true,data:result});},// Note: it's important to handle errors here\n// instead of a catch() block so that we don't swallow\n// exceptions from actual bugs in components.\nfunction(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"render\",value:function render(){var _this$state=this.state,error=_this$state.error,isLoaded=_this$state.isLoaded,data=_this$state.data;if(error){return React.createElement(\"div\",null,\"Error: \",error.message);}else if(!isLoaded){return React.createElement(\"div\",null,\"Loading...\");}else{var xydata=[];var lastdate=\"0\";var total_crimes=0;for(var i=0;i<data.length;i++){if(lastdate==\"0\"){lastdate=data[i].crimedate;}else if(data[i].crimedate!=lastdate){var newdata={x:lastdate,y:total_crimes};xydata.push(newdata);lastdate=data[i].crimedate;total_crimes=0;}total_crimes+=1;}return React.createElement(\"div\",{className:\"App\"},React.createElement(\"ul\",null,data.map(function(data){return React.createElement(\"li\",{key:data.post},data.crimedate,\" \",data.crimetime,\" \",data.description,\" \",data.weapon);})));}}}]);return GetCrimes;}(React.Component);export default GetCrimes;","map":{"version":3,"sources":["C:/Users/tjdin/CMSC-447-Crime-Hub-stuff/react-frontend/src/App.js"],"names":["React","origin","window","location","url","GetCrimes","props","state","error","isLoaded","data","fetch","then","res","json","result","setState","message","xydata","lastdate","total_crimes","i","length","crimedate","newdata","x","y","push","map","post","crimetime","description","weapon","Component"],"mappings":"8tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,6BAEA,MAAO,WAAP,CAGA,GAAIC,CAAAA,MAAM,CAAGC,MAAM,CAACC,QAAP,CAAgBF,MAA7B,CACA,GAAIG,CAAAA,GAAG,CAAGH,MAAM,CAAG,aAAnB,C,GAGMI,CAAAA,S,+EACJ,mBAAYC,KAAZ,CAAmB,2CACjB,2EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,IADI,CAEXC,QAAQ,CAAE,KAFC,CAGXC,IAAI,CAAE,EAHK,CAAb,CAFiB,aAOlB,C,mFAGmB,iBAClBC,KAAK,CAAC,qCAAD,CAAL,CACGC,IADH,CACQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADX,EAEGF,IAFH,CAGI,SAACG,MAAD,CAAY,CACV,MAAI,CAACC,QAAL,CAAc,CACZP,QAAQ,CAAE,IADE,CAEZC,IAAI,CAAEK,MAFM,CAAd,EAID,CARL,CASI;AACA;AACA;AACA,SAACP,KAAD,CAAW,CACT,MAAI,CAACQ,QAAL,CAAc,CACZP,QAAQ,CAAE,IADE,CAEZD,KAAK,CAALA,KAFY,CAAd,EAID,CAjBL,EAmBD,C,uCAEQ,iBAC2B,KAAKD,KADhC,CACCC,KADD,aACCA,KADD,CACQC,QADR,aACQA,QADR,CACkBC,IADlB,aACkBA,IADlB,CAEP,GAAIF,KAAJ,CAAW,CACT,MAAO,0CAAaA,KAAK,CAACS,OAAnB,CAAP,CACD,CAFD,IAEO,IAAI,CAACR,QAAL,CAAe,CACpB,MAAO,6CAAP,CACD,CAFM,IAEA,CACL,GAAIS,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,QAAQ,CAAG,GAAf,CACA,GAAIC,CAAAA,YAAY,CAAG,CAAnB,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGX,IAAI,CAACY,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CACpC,GAAIF,QAAQ,EAAI,GAAhB,CAAqB,CACnBA,QAAQ,CAAGT,IAAI,CAACW,CAAD,CAAJ,CAAQE,SAAnB,CACD,CAFD,IAEO,IAAIb,IAAI,CAACW,CAAD,CAAJ,CAAQE,SAAR,EAAqBJ,QAAzB,CAAmC,CACxC,GAAIK,CAAAA,OAAO,CAAG,CAACC,CAAC,CAAEN,QAAJ,CAAcO,CAAC,CAAEN,YAAjB,CAAd,CACAF,MAAM,CAACS,IAAP,CAAYH,OAAZ,EAEAL,QAAQ,CAAGT,IAAI,CAACW,CAAD,CAAJ,CAAQE,SAAnB,CACAH,YAAY,CAAG,CAAf,CACD,CAEDA,YAAY,EAAI,CAAhB,CACD,CAED,MACE,4BAAK,SAAS,CAAC,KAAf,EAEA,8BACKV,IAAI,CAACkB,GAAL,CAAS,SAAAlB,IAAI,QACZ,2BAAI,GAAG,CAAEA,IAAI,CAACmB,IAAd,EACGnB,IAAI,CAACa,SADR,KACoBb,IAAI,CAACoB,SADzB,KACqCpB,IAAI,CAACqB,WAD1C,KACwDrB,IAAI,CAACsB,MAD7D,CADY,EAAb,CADL,CAFA,CADF,CAYD,CACF,C,uBAtEqBhC,KAAK,CAACiC,S,EAyE9B,cAAe5B,CAAAA,SAAf","sourcesContent":["import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\n\r\n\r\nvar origin = window.location.origin;\r\nvar url = origin + '/api/crimes'\r\n\r\n\r\nclass GetCrimes extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      data: []\r\n    };\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    fetch(\"http://52.206.59.30:3000/api/crimes\")\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            data: result\r\n          });\r\n        },\r\n        // Note: it's important to handle errors here\r\n        // instead of a catch() block so that we don't swallow\r\n        // exceptions from actual bugs in components.\r\n        (error) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            error\r\n          });\r\n        }\r\n      )\r\n  }\r\n\r\n  render() {\r\n    const { error, isLoaded, data } = this.state;\r\n    if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n      return <div>Loading...</div>;\r\n    } else {\r\n      var xydata = [];\r\n      var lastdate = \"0\";\r\n      var total_crimes = 0;\r\n      for (var i = 0; i < data.length; i++) {\r\n        if (lastdate == \"0\") {\r\n          lastdate = data[i].crimedate;\r\n        } else if (data[i].crimedate != lastdate) {\r\n          var newdata = {x: lastdate, y: total_crimes};\r\n          xydata.push(newdata);\r\n\r\n          lastdate = data[i].crimedate;\r\n          total_crimes = 0;\r\n        }\r\n\r\n        total_crimes += 1;\r\n      }\r\n\r\n      return (\r\n        <div className=\"App\">\r\n            \r\n        <ul>\r\n            {data.map(data => (\r\n              <li key={data.post}>\r\n                {data.crimedate} {data.crimetime} {data.description} {data.weapon}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default GetCrimes;\r\n"]},"metadata":{},"sourceType":"module"}